@(users: java.util.List[User])

@main("User list") {
    <script src="@routes.Assets.versioned("javascripts/jquery-2.1.4.js")" type="text/javascript"></script>

    <h2>All users</h2>
    <script>
        function del(urlToDel) {
            $.ajax({
                url: '/ValidateApplication.php',
                url: urlToDel,
                type: 'DELETE',
                success: function(results) {
                    location.reload();
                }
            });
        }
    </script>


    <table class="table table-striped">
        <thead>
            <tr>
                <th>id</th>
                <th>first name</th>
                <th>last name</th>
                <th>email</th>
            </tr>
        </thead>
        <tbody>
        @for(user <- users) {

            <tr>
                <td>@user.id</td>
                <td>@user.firstName</td>
                <td>@user.lastName</td>
                <td>@user.email</td>
                @if(user.email != session.get("email") ){
                    <td><a onclick="del('@routes.UserHandler.delete(user.email)')"><i class="glyphicon glyphicon-trash"></i></a></td>
                }
            </tr>

        }
        </tbody>
    </table>
}